<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <title>Presupuesto-Listado</title>
  </head>
  <body>
    <header>
      <nav>
        <a href="/"><i class="fa-solid fa-house fa-lg"></i></a>
        <a href="/lista"><i class="fa-solid fa-rectangle-list fa-lg"></i></a>
      </nav>
    </header>
    <section class="balance">
      <h1>Listado de Operaciones</h1>
      
      <form action="/lista/filtro" method="POST">
        <label for="categoria"> Categoria </label>
        <!-- Se envían los datos teniendo en cuenta el name ej: name="categoria" con el método POST  -->
        <select id="categoria" name="categoria"> 
          <option value="Casa">Casa</option>
          <option value="Personal" selected>Personal</option>
          <option value="Familia">Familia</option>
        </select>
        <label for="tipo"> Tipo </label>
        <select id="tipo" name="tipo">
          <option value="Ingreso" selected>Ingreso</option>
          <option value="Egreso">Egreso</option>
        </select>
        <button class="filtrar" type="submit" value="Filtrar">Filtrar</button>
      </form>
    </section>
    <section class="registros">
      <h3>Registros</h3>
      <table>
        <tr>
          <th>Concepto</th>
          <th>Monto</th>
          <th class="fecha">Fecha</th>
          <th>Editar</th>
        </tr>
      <% for (let i=0; i < presupuesto.length; i++) { %> <%{%> 
        <tr>
          <td><%= presupuesto[i].concepto %></td>
          <td><%= presupuesto[i].monto %></td>
          <td class="fecha"><%= presupuesto[i].fecha %></td>
          <td class="editar">
            <a href="/editar/<%= presupuesto[i].id %>"><i class="fa-solid fa-pen-to-square"></i></a>
            <form class="eliminar" action="/lista/<%= presupuesto[i].id %>?_method=DELETE" method="POST">
            <button type="submit" ><i class="fa-solid fa-trash-can"></i></button>
          </form>
          </td>
        </tr>
        <% } %> <% } %>
      </table>
    </section>
   
  </body>
</html>
